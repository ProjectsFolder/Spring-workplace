<!DOCTYPE HTML>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity"
>
<body>
    <nav class="navbar navbar-expand-lg  navbar-light bg-light" th:fragment="navbar">
        <div class="container">
            <a class="navbar-brand" th:href="${#mvc.url('index').build()}">
                <img th:src="@{/logo.png}" alt="" style="height: 30px" class="mr-1">
                Spring-workplace
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                    aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown link
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" th:href="${#mvc.url('file#upload').build()}">
                                File uploading
                            </a>
                            <a class="dropdown-item" th:href="${#mvc.url('socket#index').build()}">
                                Web socket
                            </a>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                    </li>
                </ul>

                <ul class="navbar-nav ml-auto" sec:authorize="isAuthenticated()">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownUserMenuLink"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span sec:authentication="principal.username"></span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownUserMenuLink">
                            <form th:action="@{/logout}" method="post">
                                <input class="dropdown-item font-weight-bold" type="submit" value="Sign out"/>
                            </form>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</body>
</html>
